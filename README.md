# EaseMyTrip Playwright Test Framework

This is an automated testing framework for EaseMyTrip.com using Playwright with TypeScript.

## Project Structure

```
ease-my-trip/
├── login.ts                    # Login automation script
├── authArtifacts/             # Storage for auth states and cookies
├── pages/                     # Page Object Models
├── tests/                     # Test files
├── utils/                     # Utility functions and helpers
│   ├── pageUtils.ts          # Common page utilities
│   ├── constants/            # Constants and enums
│   │   └── constants.ts      # Timeout and keyboard action constants
│   ├── selectors/           # Page element selectors
│   │   └── selectors.ts     # Element locators
│   └── workflows/           # Reusable workflow functions
```

## Setup

1. Install dependencies:
```bash
npm install
```

2. Configure TypeScript:
- The project uses `tsconfig.json` for TypeScript configuration
- Supports CommonJS modules
- Targets ES2017

## Key Features

### Authentication
- Automated login process
- Storage state management for session persistence
- Cookie handling

# EaseMyTrip Playwright Tests

This repository contains Playwright tests (TypeScript) for EaseMyTrip features and workflows. The tests use a page-object pattern and utility helpers located under `ease-my-trip`.

**Prerequisites**
- Node.js (>= 16 recommended)
- Git

**Install & setup** (PowerShell)
```
npm install
npx playwright install
```

**Run tests** (examples for PowerShell)
- Run all tests:
```
npx playwright test
```
- Run a specific test file:
```
npx playwright test "ease-my-trip/tests/accessbilityTesting.test.ts"
```
- Show the last HTML report:
```
npx playwright show-report
```

**Project layout**
- `playwright.config.ts`: Playwright configuration and test options.
- `package.json`, `tsconfig.json`: Project metadata and TypeScript config.
- `ease-my-trip/` : Main test sources
  - `login.ts`: helper/script to create authenticated `storageState`.
  - `authArtifacts/`: persisted auth artifacts (e.g. `storageState.json`).
  - `pages/`: Page object models for site pages (e.g. `flightPage.page.ts`).
  - `tests/`: Test files (e.g. `bookFlight.test.ts`, `accessbilityTesting.test.ts`).
  - `utils/`: Helpers and shared utilities (`pageUtils.ts`, selectors, constants).
  - `workflows/`: Reusable flows combining page actions (`easeMyTripWorkflows.ts`).
- `downloads/`: test output artifacts (downloaded files, exported reports).
- `playwright-report/`: output HTML report (generated by Playwright runs).
- `test-results/`: structured test results if configured.

**Accessibility and artifacts**
- Accessibility scan SARIF files are exported to `downloads/artifacts/accessibility-test-results` by the helper utilities.
- Use `ease-my-trip/authArtifacts/storageState.json` for authenticated tests. Create/update it by running the login flow or `npm run login` if a script exists.

**Common commands**
- Run a single test and keep headed browser (helpful for debugging):
```
npx playwright test "ease-my-trip/tests/bookFlight.test.ts" --headed
```
- Run tests in a specific browser (chromium, firefox, webkit):
```
npx playwright test --project=chromium
```

**Notes & tips**
- Tests assume `authArtifacts/storageState.json` may exist for authenticated flows; keep it out of source control.
- If you hit ESM errors from libraries (like `uuid`), prefer dynamic imports in CommonJS contexts or update module settings in `tsconfig`/`package.json`.
- Inspect failures and traces in `playwright-report` using `npx playwright show-report`.

If you want, I can add a short `CONTRIBUTING.md` or add an `npm` script for common commands (install, run tests, show report). 